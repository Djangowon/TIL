# How import statement finds modules and packages
### calculator 패키지 만들기
디렉토리 구조는 다음과 같고, __init__.py 파일에는 아무 코드도 없지만 init 파일은 해당 디렉토리가 패키지임을 알려주는 역할을 한다.  
  
![image](https://github.com/rosewoodowon/TIL/blob/main/image/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-11-13%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%208.07.51.png)

`main.py`

```python
# absoulte path
# from calculator.add_and_multiply import add_and_multiply 

# relative path
from .calculator.add_and_multiply import add_and_multiply

if __name__ == '__main__':
    print(add_and_multiply(1,2))

```

`add_and_multiply.py`

```python
from .multiplication import multiply
# from calculator.multiplication import multiply

def add_and_multiply(a,b):
    return multiply(a,b) + (a+b)

```

`multiplication.py`

```python
def multiply(a,b):
    return(a*b)
```
#### main.py
```
Traceback (most recent call last):
  File "/Users/jangdowon/Wecode/calculator/main.py", line 5, in <module>
    from .calculator.add_and_multiply import add_and_multiply
ImportError: attempted relative import with no known parent package
```
main.py 상대경로로 add_and_mutiply 를 import 하면 위와 같은 `ImportError`를 만난다.  
absolute path가 아닌 relative path를 사용했기 때문인데, 상대경로 relative import는 현재 모듈의 기반으로 이루어진다.  
메인 모듈의 이름이 항상 `__main__`이므로 파이썬 애플리케이션의 메인 모듈로 사용되는 모듈은 항상 절대경로 absolute import를 사용해야 한다.  
[공식문서](https://docs.python.org/3/tutorial/modules.html#intra-package-references/)

```python
# absoulte path
from calculator.add_and_multiply import add_and_multiply 

# relative path
# from .calculator.add_and_multiply import add_and_multiply

if __name__ == '__main__':
    print(add_and_multiply(1,2))
```
위와 같이 절대경로로 import 하면 정상 동작한다.
